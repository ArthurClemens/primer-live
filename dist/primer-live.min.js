"use strict";(()=>{var s=(t,e,i)=>new Promise((r,n)=>{var o=a=>{try{d(i.next(a))}catch(u){n(u)}},l=a=>{try{d(i.throw(a))}catch(u){n(u)}},d=a=>a.done?r(a.value):Promise.resolve(a.value).then(o,l);d((i=i.apply(t,e)).next())}),w=t=>new Promise(e=>setTimeout(e,t)),O=(t,e)=>e.reduce((i,r)=>i!=="0s"?i:t.getPropertyValue(r),"0s"),T=({domElement:t,props:e})=>{let i=document.defaultView;if(i){let r=i.getComputedStyle(t);if(r)return O(r,e)}},E=t=>{let e=parseFloat(t)*(t.indexOf("ms")===-1?1e3:1);return Number.isNaN(e)?0:e},L=t=>{let e=T({domElement:t,props:["animation-duration","transition-duration"]}),i=e!==void 0?E(e):0,r=T({domElement:t,props:["animation-delay","transition-delay"]}),n=r!==void 0?E(r):0;return i+n},D=t=>t.scrollTop,I=t=>{let e=window.getComputedStyle(t);return e.opacity==="0"||e.display==="none"?!1:!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},F=(t,e)=>t instanceof HTMLAnchorElement&&t.rel!=="ignore"||t instanceof HTMLAreaElement&&t.href!==void 0||[HTMLInputElement,HTMLSelectElement,HTMLTextAreaElement,HTMLButtonElement].some(i=>t instanceof i)&&!t.disabled||t instanceof HTMLIFrameElement||t.tabIndex>0||!e&&t.tabIndex===0&&t.getAttribute("tabindex")!==null&&t.getAttribute("aria-hidden")!=="true",C=t=>[].slice.call(t.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])")).filter(i=>F(i,!0)).sort((i,r)=>i.tabIndex-r.tabIndex)[0],H="[data-prompt]",m="[data-content]",P="[data-touch]",x="[data-toggle]",V="ismodal",M="isescapable",N="isfocusfirst",R="focusfirst",b="isopen",_="isshowing",A="ishiding",y="islocked",q=300,p=(t,...e)=>s(void 0,[t,...e],function*(i,r={}){let{content:n,root:o,isDetails:l}=i;if(o.dataset[y]!==void 0)return;r.willHide&&r.willHide(i),delete o.dataset[_],o.dataset[A]="";let d=L(n);yield w(d),l&&o.removeAttribute("open"),delete o.dataset[A],delete o.dataset[b],r.didHide&&r.didHide(i)}),S=(t,...e)=>s(void 0,[t,...e],function*(i,r={}){let{content:n,root:o,isDetails:l,isEscapable:d,isFocusFirst:a,focusFirstSelector:u,escapeListener:g}=i;if(o.dataset[y]!==void 0)return;r.willShow&&r.willShow(i),o.dataset[y]="",setTimeout(()=>{o&&delete o.dataset[y]},q),d&&window.addEventListener("keydown",g,{once:!0}),l&&o.setAttribute("open",""),o.dataset[b]="",D(o),o.dataset[_]="";let v=L(n);if(yield w(v),a){let c=C(n);c&&c.focus()}else if(u){let c=n.querySelector(u);c&&c.focus()}r.didShow&&r.didShow(i)}),h=(t,...e)=>s(void 0,[t,...e],function*(i,r=2,n){switch(r){case 0:return yield S(i,n);case 1:return yield p(i,n);default:return I(i.content)?yield p(i,n):yield S(i,n)}});function k(t,e){let i=null;if(!e&&t?i=t:typeof e=="string"?i=document.querySelector(e):e&&!!e.tagName&&(i=e.closest(H)),!i){console.error("Prompt element 'data-root' not found");return}let r=i.querySelector(m);if(!r){console.error("Prompt element 'data-content' not found");return}let n=i.querySelector(x)||i.querySelector("summary"),o=i.querySelector(P),l=i.tagName==="DETAILS",d=i.dataset[V]!==void 0,a=i.dataset[M]!==void 0,u=i.dataset[N]!==void 0,g=i.dataset[R],v={root:i,isDetails:l,isModal:d,isEscapable:a,isFocusFirst:u,focusFirstSelector:g,toggle:n,content:r,touchLayer:o,escapeListener:function(c){c.key==="Escape"&&p(v)}};return v}var G=t=>{let{toggle:e}=t;e&&e.dataset.registered===void 0&&(e.addEventListener("click",i=>s(void 0,null,function*(){i.preventDefault(),i.stopPropagation(),h(t)})),e.dataset.registered="")},U=t=>{let{touchLayer:e,isModal:i}=t;e&&e.dataset.registered===void 0&&(e.addEventListener("click",r=>s(void 0,null,function*(){r.stopPropagation(),i||h(t,1)})),e.dataset.registered="")},B=t=>{let{content:e}=t;e&&e.dataset.registered===void 0&&(e.addEventListener("click",i=>s(void 0,null,function*(){i.stopPropagation()})),e.dataset.registered="")};function f(t,e,i,r){return s(this,null,function*(){let n=k(t.el,e);if(n===void 0)return;G(n),U(n),B(n);let{root:o,isDetails:l}=n;l&&o.getAttribute("open")!==null&&r!==1&&S(n,i),r!==void 0&&(yield h(n,r,i))})}var K={mounted(){f(this)},init(t,e){return s(this,null,function*(){yield f(this,t,e)})},toggle(t,e){return s(this,null,function*(){yield f(this,t,e,2)})},show(t,e){return s(this,null,function*(){yield f(this,t,e,0)})},hide(t,e){return s(this,null,function*(){yield f(this,t,e,1)})}};window.Prompt=K;})();
